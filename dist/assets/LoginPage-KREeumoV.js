import{c as l,b as c,r as m,l as g,d as p,j as o,B as d}from"./index-Cl4qldqq.js";import{a as f}from"./useLayout-Dc8QmR2R.js";import{u as b}from"./index.esm-XEBiVex8.js";import{T as a}from"./TextFieldController-xkqOzTVN.js";import{A as h}from"./AuthLayout-n91NlsLZ.js";const x="_loginForm_w17vg_148",S="_title_w17vg_154",j={loginForm:x,title:S},v=()=>{const{handleSubmit:s,formState:{errors:t},control:r}=b({mode:"onChange"}),n=l(),e=c(),u=async i=>{e(g(i)),e(p(!0)),localStorage.setItem("isAuth","true"),console.log(i),n("/vmt-motors-client/about")};return m.useMemo(()=>({handleSubmit:s,errors:t,onSubmit:u,control:r}),[t])},w=()=>{const s=l(),{errors:t,handleSubmit:r,onSubmit:n,control:e}=v();return f(),m.useEffect(()=>{localStorage.getItem("isAuth")&&s("/vmt-motors-client/about")},[]),o.jsx(h,{title:"Log In",link:"signup",children:o.jsxs("form",{className:j.loginForm,onSubmit:r(n),children:[o.jsx(a,{control:e,errors:t,label:"Username",name:"username",fieldType:"input",rules:{required:"Username number"}}),o.jsx(a,{control:e,errors:t,label:"Password",name:"password",fieldType:"input",rules:{required:"Enter password"}}),o.jsx(d,{type:"submit",title:"Login",children:"Sign In"})]})})};export{w as default};
